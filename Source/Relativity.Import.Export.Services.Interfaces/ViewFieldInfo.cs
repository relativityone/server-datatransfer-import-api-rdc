//------------------------------------------------------------------------------
// <auto-generated>
// </auto-generated>
//------------------------------------------------------------------------------

namespace Relativity.Import.Export.Services
{
	using System;
	using System.Runtime.Serialization;

	/// <summary>
	/// Represents the field information class object.
	/// </summary>
	/// <remarks>
	/// The DataMember fields MUST be used in order serialize and deserialize existing <c>.kwi|.kwx</c> setting files.
	/// </remarks>
	[DataContract]
	[Serializable]
	public class ViewFieldInfo
	{
		[DataMember]
		protected int _fieldArtifactId;

		[DataMember]
		protected int _avfId;

		[DataMember]
		protected FieldCategory _category;

		[DataMember]
		protected FieldCategory _connectorFieldCategory;

		[DataMember]
		protected string _displayName;

		[DataMember]
		protected string _avfColumnName;

		[DataMember]
		protected string _avfHeaderName;

		[DataMember]
		protected string _allowFieldName;

		[DataMember]
		protected ColumnSourceType _columnSource;

		[DataMember]
		protected string _dataSource;

		[DataMember]
		protected string _sourceFieldName;

		[DataMember]
		protected int _sourceFieldArtifactTypeID;

		[DataMember]
		protected int _sourceFieldArtifactID;

		[DataMember]
		protected int _connectorFieldArtifactID;

		[DataMember]
		protected string _sourceFieldArtifactTypeTableName;

		[DataMember]
		protected string _connectorFieldName;

		[DataMember]
		protected FieldType _fieldType;

		[DataMember]
		protected bool _isLinked;

		[DataMember]
		protected int _fieldCodeTypeID;

		[DataMember]
		protected int _artifactTypeID;

		[DataMember]
		protected string _artifactTypeTableName;

		[DataMember]
		protected bool _fieldIsArtifactBaseField;

		[DataMember]
		protected string _formatString;

		[DataMember]
		protected bool _isUnicodeEnabled;

		[DataMember, OptionalField]
		protected bool _allowHtml;

		[DataMember]
		protected int _parentFileFieldArtifactID;

		[DataMember]
		protected string _parentFileFieldDisplayName;

		[DataMember]
		protected int _associativeArtifactTypeID;

		[DataMember]
		protected string _relationalTableName;

		[DataMember]
		protected string _relationalTableColumnName;

		[DataMember]
		protected string _relationalTableColumnName2;

		// SORF-n-SOMRF fields
		[DataMember, OptionalField]
		protected ParentReflectionType _parentReflectionType;

		[DataMember, OptionalField]
		protected string _reflectedFieldArtifactTypeTableName;

		[DataMember, OptionalField]
		protected string _reflectedFieldIdentifierColumnName;

		[DataMember, OptionalField]
		protected string _reflectedFieldConnectorFieldName;

		[DataMember, OptionalField]
		protected string _reflectedConnectorIdentifierColumnName;

		[DataMember, OptionalField(VersionAdded = 1)]
		protected bool _enableDataGrid;

		[DataMember, OptionalField(VersionAdded = 2)]
		protected bool _isVirtualAssociativeArtifactType;

		public ViewFieldInfo()
		{
		}

		public ViewFieldInfo(System.Data.DataRow row)
		{
			if (row == null)
			{
				throw new ArgumentNullException(nameof(row));
			}

			AllowFieldName = row["AllowFieldName"].ToString();
			AllowHtml = System.Convert.ToBoolean(row["AllowHtml"]);
			ArtifactTypeID = System.Convert.ToInt32(row["ArtifactTypeID"]);
			ArtifactTypeTableName = row["ArtifactTypeTableName"].ToString();
			AssociativeArtifactTypeID = System.Convert.ToInt32(row["AssociativeArtifactTypeID"]);
			AvfColumnName = row["AvfColumnName"].ToString();
			AvfHeaderName = row["AvfHeaderName"].ToString();
			AvfId = System.Convert.ToInt32(row["AvfID"]);
			Category = (FieldCategory)System.Convert.ToInt32(row["FieldCategoryID"]);
			ColumnSource = (ColumnSourceType)System.Enum.Parse(typeof(ColumnSourceType), row["ColumnSource"].ToString());
			ConnectorFieldArtifactID = System.Convert.ToInt32(row["ConnectorFieldArtifactID"]);
			ConnectorFieldCategory = (FieldCategory)System.Convert.ToInt32(row["ConnectorFieldCategoryID"]);
			ConnectorFieldName = row["ConnectorFieldName"].ToString();
			DataSource = row["DataSource"].ToString();
			DisplayName = row["DisplayName"].ToString();
			EnableDataGrid = System.Convert.ToBoolean(row["EnableDataGrid"]);
			FieldArtifactId = System.Convert.ToInt32(row["FieldArtifactID"]);
			FieldType = (FieldType)System.Convert.ToInt32(row["FieldTypeID"]);
			IsLinked = System.Convert.ToBoolean(row["IsLinked"]);
			FieldCodeTypeID = System.Convert.ToInt32(row["FieldCodeTypeID"]);
			FieldIsArtifactBaseField = System.Convert.ToBoolean(row["FieldIsArtifactBaseField"]);
			FormatString = System.Convert.ToString(row["FormatString"]);
			IsUnicodeEnabled = System.Convert.ToBoolean(row["IsUnicodeEnabled"]);
			ParentFileFieldArtifactID = System.Convert.ToInt32(row["ParentFileFieldArtifactID"]);
			ParentFileFieldDisplayName = System.Convert.ToString(row["ParentFileFieldDisplayName"]);
			RelationalTableName = System.Convert.ToString(row["RelationalTableName"]);
			RelationalTableColumnName = System.Convert.ToString(row["RelationalTableColumnName"]);
			RelationalTableColumnName2 = System.Convert.ToString(row["RelationalTableColumnName2"]);
			SourceFieldName = row["SourceFieldDisplayName"].ToString();
			SourceFieldArtifactTypeID = System.Convert.ToInt32(row["SourceFieldArtifactTypeID"]);			
			SourceFieldArtifactTypeTableName = row["SourceFieldArtifactTypeTableName"].ToString();
			SourceFieldArtifactID = System.Convert.ToInt32(row["SourceFieldArtifactID"]);
			if (row.Table.Columns.Contains("ParentReflectionType"))
			{
				ParentReflectionType = (ParentReflectionType)System.Convert.ToInt32(row["ParentReflectionType"]);
				ReflectedFieldArtifactTypeTableName = System.Convert.ToString(row["ReflectedFieldArtifactTypeTableName"]);
				ReflectedFieldIdentifierColumnName = System.Convert.ToString(row["ReflectedFieldArtifactTypeIdentifierColumnName"]);
				ReflectedFieldConnectorFieldName = System.Convert.ToString(row["ReflectedFieldArtifactTypeConnectorFieldName"]);
				ReflectedConnectorIdentifierColumnName = System.Convert.ToString(row["ReflectedConnectorArtifactTypeIdentifierColumnName"]);
			}
			else
			{
				ParentReflectionType = ParentReflectionType.Empty;
				ReflectedFieldArtifactTypeTableName = string.Empty;
				ReflectedFieldIdentifierColumnName = string.Empty;
				ReflectedFieldConnectorFieldName = string.Empty;
				ReflectedConnectorIdentifierColumnName = string.Empty;
			}

			bool columnExists = row.Table.Columns.Contains("IsVirtualAssociativeArtifactType");
			if (columnExists)
			{
				IsVirtualAssociativeArtifactType = System.Convert.ToBoolean(row["IsVirtualAssociativeArtifactType"]);
			}
		}

		public ViewFieldInfo(ViewFieldInfo vfi)
		{
			this.CopyFromViewFieldInfo(vfi);
		}

		public string AllowFieldName
		{
			get
			{
				return this._allowFieldName;
			}

			set
			{
				this._allowFieldName = value;
			}
		}

		public bool AllowHtml
		{
			get
			{
				return this._allowHtml;
			}

			set
			{
				this._allowHtml = value;
			}
		}

		public int ArtifactTypeID
		{
			get
			{
				return this._artifactTypeID;
			}

			set
			{
				this._artifactTypeID = value;
			}
		}

		public string ArtifactTypeTableName
		{
			get
			{
				return this._artifactTypeTableName;
			}

			set
			{
				this._artifactTypeTableName = value;
			}
		}

		public int AssociativeArtifactTypeID
		{
			get
			{
				return this._associativeArtifactTypeID;
			}

			set
			{
				this._associativeArtifactTypeID = value;
			}
		}

		public string AvfColumnName
		{
			get
			{
				return this._avfColumnName;
			}

			set
			{
				this._avfColumnName = value;
			}
		}

		public string AvfHeaderName
		{
			get
			{
				return this._avfHeaderName;
			}

			set
			{
				this._avfHeaderName = value;
			}
		}

		public int AvfId
		{
			get
			{
				return this._avfId;
			}

			set
			{
				this._avfId = value;
			}
		}

		public Relativity.Import.Export.Services.FieldCategory Category
		{
			get
			{
				return this._category;
			}

			set
			{
				this._category = value;
			}
		}

		public Relativity.Import.Export.Services.ColumnSourceType ColumnSource
		{
			get
			{
				return this._columnSource;
			}

			set
			{
				this._columnSource = value;
			}
		}

		public int ConnectorFieldArtifactID
		{
			get
			{
				return this._connectorFieldArtifactID;
			}

			set
			{
				this._connectorFieldArtifactID = value;
			}
		}

		public Relativity.Import.Export.Services.FieldCategory ConnectorFieldCategory
		{
			get
			{
				return this._connectorFieldCategory;
			}

			set
			{
				this._connectorFieldCategory = value;
			}
		}

		public string ConnectorFieldName
		{
			get
			{
				return this._connectorFieldName;
			}

			set
			{
				this._connectorFieldName = value;
			}
		}

		public string DataSource
		{
			get
			{
				return this._dataSource;
			}

			set
			{
				this._dataSource = value;
			}
		}

		public string DisplayName
		{
			get
			{
				return this._displayName;
			}

			set
			{
				this._displayName = value;
			}
		}

		public bool EnableDataGrid
		{
			get
			{
				return this._enableDataGrid;
			}

			set
			{
				this._enableDataGrid = value;
			}
		}

		public int FieldArtifactId
		{
			get
			{
				return this._fieldArtifactId;
			}

			set
			{
				this._fieldArtifactId = value;
			}
		}

		public int FieldCodeTypeID
		{
			get
			{
				return this._fieldCodeTypeID;
			}

			set
			{
				this._fieldCodeTypeID = value;
			}
		}

		public bool FieldIsArtifactBaseField
		{
			get
			{
				return this._fieldIsArtifactBaseField;
			}

			set
			{
				this._fieldIsArtifactBaseField = value;
			}
		}

		public Relativity.Import.Export.Services.FieldType FieldType
		{
			get
			{
				return this._fieldType;
			}

			set
			{
				this._fieldType = value;
			}
		}

		public string FormatString
		{
			get
			{
				return this._formatString;
			}

			set
			{
				this._formatString = value;
			}
		}

		public bool IsLinked
		{
			get
			{
				return this._isLinked;
			}

			set
			{
				this._isLinked = value;
			}
		}

		public bool IsUnicodeEnabled
		{
			get
			{
				return this._isUnicodeEnabled;
			}

			set
			{
				this._isUnicodeEnabled = value;
			}
		}

		public bool IsVirtualAssociativeArtifactType
		{
			get
			{
				return this._isVirtualAssociativeArtifactType;
			}

			set
			{
				this._isVirtualAssociativeArtifactType = value;
			}
		}

		public int ParentFileFieldArtifactID
		{
			get
			{
				return this._parentFileFieldArtifactID;
			}

			set
			{
				this._parentFileFieldArtifactID = value;
			}
		}

		public string ParentFileFieldDisplayName
		{
			get
			{
				return this._parentFileFieldDisplayName;
			}

			set
			{
				this._parentFileFieldDisplayName = value;
			}
		}

		public Relativity.Import.Export.Services.ParentReflectionType ParentReflectionType
		{
			get
			{
				return this._parentReflectionType;
			}

			set
			{
				this._parentReflectionType = value;
			}
		}

		public string ReflectedConnectorIdentifierColumnName
		{
			get
			{
				return this._reflectedConnectorIdentifierColumnName;
			}

			set
			{
				this._reflectedConnectorIdentifierColumnName = value;
			}
		}

		public string ReflectedFieldArtifactTypeTableName
		{
			get
			{
				return this._reflectedFieldArtifactTypeTableName;
			}

			set
			{
				this._reflectedFieldArtifactTypeTableName = value;
			}
		}

		public string ReflectedFieldConnectorFieldName
		{
			get
			{
				return this._reflectedFieldConnectorFieldName;
			}

			set
			{
				this._reflectedFieldConnectorFieldName = value;
			}
		}

		public string ReflectedFieldIdentifierColumnName
		{
			get
			{
				return this._reflectedFieldIdentifierColumnName;
			}

			set
			{
				this._reflectedFieldIdentifierColumnName = value;
			}
		}

		public string RelationalTableColumnName
		{
			get
			{
				return this._relationalTableColumnName;
			}

			set
			{
				this._relationalTableColumnName = value;
			}
		}

		public string RelationalTableColumnName2
		{
			get
			{
				return this._relationalTableColumnName2;
			}

			set
			{
				this._relationalTableColumnName2 = value;
			}
		}

		public string RelationalTableName
		{
			get
			{
				return this._relationalTableName;
			}

			set
			{
				this._relationalTableName = value;
			}
		}

		public int SourceFieldArtifactID
		{
			get
			{
				return this._sourceFieldArtifactID;
			}

			set
			{
				this._sourceFieldArtifactID = value;
			}
		}

		public int SourceFieldArtifactTypeID
		{
			get
			{
				return this._sourceFieldArtifactTypeID;
			}

			set
			{
				this._sourceFieldArtifactTypeID = value;
			}
		}

		public string SourceFieldArtifactTypeTableName
		{
			get
			{
				return this._sourceFieldArtifactTypeTableName;
			}

			set
			{
				this._sourceFieldArtifactTypeTableName = value;
			}
		}

		public string SourceFieldName
		{
			get
			{
				return this._sourceFieldName;
			}

			set
			{
				this._sourceFieldName = value;
			}
		}

		public bool IsCodeOrMulticodeField
		{
			get
			{
				return this.FieldType == FieldType.Code || this.FieldType == FieldType.MultiCode;
			}
		}

		public bool IsMultiValueField
		{
			get
			{
				return this.FieldType == FieldType.Objects || this.Category == FieldCategory.MultiReflected;
			}
		}

		private void CopyFromViewFieldInfo(ViewFieldInfo vfi)
		{
			FieldArtifactId = vfi.FieldArtifactId;
			AvfId = vfi.AvfId;
			Category = vfi.Category;
			DisplayName = vfi.DisplayName;
			AvfColumnName = vfi.AvfColumnName;
			AvfHeaderName = vfi.AvfHeaderName;
			AllowFieldName = vfi.AllowFieldName;
			ColumnSource = vfi.ColumnSource;
			DataSource = vfi.DataSource;
			SourceFieldName = vfi.SourceFieldName;
			SourceFieldArtifactTypeID = vfi.SourceFieldArtifactTypeID;
			ConnectorFieldArtifactID = vfi.ConnectorFieldArtifactID;
			SourceFieldArtifactTypeTableName = vfi.SourceFieldArtifactTypeTableName;
			ConnectorFieldName = vfi.ConnectorFieldName;
			FieldType = vfi.FieldType;
			ConnectorFieldCategory = vfi.ConnectorFieldCategory;
			IsLinked = vfi.IsLinked;
			FieldCodeTypeID = vfi.FieldCodeTypeID;
			ArtifactTypeID = vfi.ArtifactTypeID;
			ArtifactTypeTableName = vfi.ArtifactTypeTableName;
			FieldIsArtifactBaseField = vfi.FieldIsArtifactBaseField;
			FormatString = vfi.FormatString;
			IsUnicodeEnabled = vfi.IsUnicodeEnabled;
			AllowHtml = vfi.AllowHtml;
			ParentFileFieldArtifactID = vfi.ParentFileFieldArtifactID;
			ParentFileFieldDisplayName = vfi.ParentFileFieldDisplayName;
			AssociativeArtifactTypeID = vfi.AssociativeArtifactTypeID;
			RelationalTableName = vfi.RelationalTableName;
			RelationalTableColumnName = vfi.RelationalTableColumnName;
			RelationalTableColumnName2 = vfi.RelationalTableColumnName2;
			SourceFieldArtifactID = vfi.SourceFieldArtifactID;

			// Reflected Object fields
			ParentReflectionType = vfi.ParentReflectionType;
			ReflectedFieldArtifactTypeTableName = vfi.ReflectedFieldArtifactTypeTableName;
			ReflectedFieldIdentifierColumnName = vfi.ReflectedFieldIdentifierColumnName;
			ReflectedFieldConnectorFieldName = vfi.ReflectedFieldConnectorFieldName;
			ReflectedConnectorIdentifierColumnName = vfi.ReflectedConnectorIdentifierColumnName;

			EnableDataGrid = vfi.EnableDataGrid;
			IsVirtualAssociativeArtifactType = vfi.IsVirtualAssociativeArtifactType;
		}
	}
}